{% extends "layout.html" %}

{% block content %}
<h1 class="title">NÃ¼rburgring Motors</h1>

<form action="{{ url_for('compare') }}" method="POST">
    <!-- Top Compare Button -->
    <div style="text-align:center; margin-bottom:20px;">
        <button type="submit" class="custom-btn">Compare Selected</button>
    </div>

    <div class="car-list">
        {% if cars.items %}
            {% for car in cars.items %}
            <div class="car-card">
                <img src="{{ url_for('static', filename='images/' + car.image) }}" alt="Car Image">
                <div class="details">
                    <h2>
                        <a href="{{ url_for('car_detail', car_id=car.id) }}" style="color: white;">
                            {{ car.brand }} {{ car.model }}
                        </a>
                    </h2>
                    <p><strong>Price:</strong> ${{ car.price }}</p>
                    <p><strong>Mileage:</strong> {{ car.mileage }} km</p>
                    <p><strong>Year:</strong> {{ car.year }}</p>
                    <p><strong>Condition:</strong> {{ car.condition }}</p>
                    <a href="{{ url_for('add_to_cart', car_id=car.id) }}" class="cart-btn">Add to Cart</a>
                </div>

                <!-- Compare Checkbox -->
                <div class="compare-checkbox">
                    <input type="checkbox" name="selected_cars" value="{{ car.id }}">
                    <label>Select</label>
                </div>
            </div>
            {% endfor %}
        {% else %}
            <p style="color:white;">No cars found.</p>
        {% endif %}
    </div>

    <!-- Bottom Compare Button -->
    <div style="text-align:center; margin-top:20px;">
        <button type="submit" class="custom-btn">Compare Selected</button>
    </div>
</form>

<!-- Pagination -->
<div class="pagination">
    {% if cars.has_prev %}
        <a href="{{ url_for('index', page=cars.prev_num, brand=request.args.get('brand'), search=request.args.get('search')) }}" class="custom-btn">Previous</a>
    {% endif %}
    <span class="page-info">Page {{ cars.page }} of {{ cars.pages }}</span>
    {% if cars.has_next %}
        <a href="{{ url_for('index', page=cars.next_num, brand=request.args.get('brand'), search=request.args.get('search')) }}" class="custom-btn">Next</a>
    {% endif %}
</div>
{% endblock %}
