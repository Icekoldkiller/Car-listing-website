{% extends "layout.html" %}
{% block content %}
<h2>All Users</h2>
<table border="1" cellpadding="8" cellspacing="0" style="border-collapse: collapse; width: 100%;">
    <tr>
        <th>ID</th>
        <th>Username</th>
        <th>Actions</th>
    </tr>
    {% for user in users %}
        <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>
                <!-- View user's listings -->
                <form action="{{ url_for('admin_specific_user_listings', user_id=user.id) }}" method="get" style="display:inline;">
                    <button type="submit" class="custom-btn">View Listings</button>
                </form>

                <!-- Delete user -->
                <form action="{{ url_for('admin_delete_user', user_id=user.id) }}" method="POST" style="display:inline;">
                    <button type="submit" onclick="return confirm('Are you sure you want to delete this user? This will also remove their cars and orders.')">
                        Delete
                    </button>
                </form>
            </td>
        </tr>
    {% endfor %}
</table>
{% endblock %}
