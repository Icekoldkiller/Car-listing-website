{% extends "layout.html" %}

{% block content %}
<h2>Your Cart</h2>

{% if cart_items %}
    <div class="car-list">
        {% for item in cart_items %}
        <div class="car-card">
            <img src="{{ url_for('static', filename='images/' + item.car.image) }}" alt="Car Image">
            <div class="details">
                <h2>{{ item.car.brand }} {{ item.car.model }}</h2>
                <p><strong>Mileage:</strong> {{ item.car.mileage }}</p>
                <p><strong>Year:</strong> {{ item.car.year }}</p>
                <p><strong>Fuel:</strong> {{ item.car.fuel }}</p>
                <p><strong>Condition:</strong> {{ item.car.condition }}</p>
                <p><strong>Price:</strong> ${{ "%.2f"|format(item.car.price) }}</p>
                <a href="{{ url_for('remove_from_cart', car_id=item.car.id) }}" class="cart-btn" style="background-color: red;">Remove</a>
            </div>
        </div>
        {% endfor %}
    </div>

    <h3>Total: ${{ "%.2f"|format(total) }}</h3>

    <a href="{{ url_for('clear_cart') }}" class="cart-btn" style="background-color: darkred;">Clear Cart</a>
    <a href="{{ url_for('checkout') }}" class="cart-btn" style="background-color: green;">Proceed to Checkout</a>

{% else %}
    <p>Your cart is empty.</p>
{% endif %}
{% endblock %}
